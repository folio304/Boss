<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Splash the Boss - GitHub Game</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b6b;--muted:#94a3b8}
    html,body{margin:0;height:100vh;width:100vw;overflow:hidden;background:linear-gradient(180deg,#071127 0%, #081827 50%, #03111a 100%);color:#e6eef8;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;display:flex;flex-direction:column;}
    body{display:flex;align-items:center;justify-content:center}
    .game-wrap{width:100vw;height:100vh;display:flex;flex-direction:column;}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{font-size:20px;margin:0}

    .hud{display:flex;gap:12px;align-items:center}
    .counter{background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:8px 12px;border-radius:12px;min-width:88px;text-align:center}
    .counter b{display:block;font-size:18px}

    .arena{position:relative;flex:1;height:100%;width:100%;overflow:hidden;background:radial-gradient(circle at 20% 10%, rgba(255,255,255,0.02), transparent 10%), linear-gradient(180deg,#082133,#02111b);box-shadow:inset 0 6px 40px rgba(0,0,0,0.5);}

    .item{position:absolute;left:0;top:-80px;pointer-events:none;font-size:32px;text-shadow:0 3px 8px rgba(0,0,0,0.6);}
    .mud{font-size:34px}
    .punch{font-size:44px}

    .boss{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);width:260px;height:260px;border-radius:999px;overflow:hidden;touch-action:none;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff,#eee);box-shadow:0 10px 30px rgba(0,0,0,0.6);}
    .boss img{width:100%;height:100%;object-fit:cover}

    .boss.small{width:120px;height:120px}
    .confetti{position:absolute;pointer-events:none;inset:0;mix-blend-mode:screen}

    .hint{position:absolute;top:10px;left:10px;background:rgba(0,0,0,0.25);padding:8px 10px;border-radius:10px;font-size:13px;color:var(--muted)}

    @media (max-width:520px){
      .arena{height:420px}
      .boss{width:120px;height:120px}
      .boss.small{width:92px;height:92px}
    }
  </style>
</head>
<body>

  <div class="game-wrap">
    <header>
      <h1>ðŸŽ¯ Splash the Boss</h1>
      <div class="hud">
        <div class="counter">Mud<br><b id="mudCount">0</b></div>
        <div class="counter">Punches<br><b id="punchCount">0</b></div>
        <div class="counter">Score<br><b id="score">0</b></div>
      </div>
    </header>

    <div class="arena" id="arena">
      <div class="hint">Slide the boss head left/right to catch falling items.</div>
      <div id="confetti" class="confetti"></div>

      <div id="boss" class="boss small">
        <img id="bossImg" src="boss.png" alt="Boss">
      </div>
    </div>

  </div>

<script>
  const CONFIG = { spawnInterval:900, gravity:0.9, maxSpeed:12, arenaPadding:12 }

  const state = {
    running:true,       // GAME STARTS AUTOMATICALLY NOW
    items:[],
    mud:0,
    punch:0,
    score:0,
    spawnTimer:0,
    spawnGap:900
  }

  const arena = document.getElementById('arena')
  const boss = document.getElementById('boss')
  const bossImg = document.getElementById('bossImg')
  const mudCount = document.getElementById('mudCount')
  const punchCount = document.getElementById('punchCount')
  const scoreEl = document.getElementById('score')
  const confetti = document.getElementById('confetti')

  function rand(a,b){return Math.random()*(b-a)+a}

  function spawnItem(){
    const r = Math.random()
    const type = r<0.65 ? 'mud':'punch'
    const el = document.createElement('div')
    el.className='item '+type
    el.dataset.type=type
    el.style.left = rand(20, arena.clientWidth-60)+'px'

    if(type==="mud"){ el.innerHTML='ðŸ’©'; el.speed=rand(2.2,4.5); el.points=5; }
    else{ el.innerHTML='ðŸ‘Š'; el.speed=rand(3.6,6.2); el.points=10; }

    el.y=-80
    arena.appendChild(el)
    state.items.push(el)
  }

  let lastFrame = performance.now()
  function loop(now){
    const dt = Math.min(40, now-lastFrame)
    lastFrame=now

    if(state.running){
      state.spawnTimer+=dt
      if(state.spawnTimer > state.spawnGap){
        spawnItem()
        state.spawnTimer=0
        state.spawnGap=Math.max(350,900 - Math.floor(state.score/15)*20)
      }

      for(let i=state.items.length-1;i>=0;i--){
        const it=state.items[i]
        it.y += it.speed
        it.style.top = it.y+'px'
        const rot=Math.sin((it.y/45)+i)*18
        it.style.transform=`rotate(${rot}deg)`

        const bossRect=boss.getBoundingClientRect()
        const itemRect=it.getBoundingClientRect()
        if(!(itemRect.left>bossRect.right||itemRect.right<bossRect.left||itemRect.top>bossRect.bottom||itemRect.bottom<bossRect.top)){
          collectItem(it)
          continue
        }

        if(it.y > arena.clientHeight+80){
          it.remove()
          state.items.splice(i,1)
        }
      }
    }
    requestAnimationFrame(loop)
  }

  function collectItem(el){
    const type=el.dataset.type
    if(type==="mud"){ state.mud++; state.score+=el.points; showSplash(el) }
    else{ state.punch++; state.score+=el.points; showPunch(el) }

    updateHUD()
    el.remove()
    const idx=state.items.indexOf(el)
    if(idx>-1) state.items.splice(idx,1)
  }

  function updateHUD(){
    mudCount.textContent=state.mud
    punchCount.textContent=state.punch
    scoreEl.textContent=state.score
  }

  function showSplash(){
    const splat=document.createElement('div')
    splat.style.position='absolute'
    splat.style.width='26px'
    splat.style.height='26px'
    splat.style.left = (boss.offsetLeft + boss.clientWidth/2 - 13 + rand(-40,40))+'px'
    splat.style.top = (boss.offsetTop + rand(20,90))+'px'
    splat.style.background='radial-gradient(circle,rgba(255,255,255,0.6),rgba(255,255,255,0.1))'
    splat.style.borderRadius='50%'
    confetti.appendChild(splat)
    setTimeout(()=>{splat.style.transition='0.7s'; splat.style.opacity=0; splat.style.transform='scale(1.8)'},20)
    setTimeout(()=>splat.remove(),900)
  }

  function showPunch(el){
    boss.animate([{transform:'translateX(-50%) scale(1)'},{transform:'translateX(-50%) scale(1.08) rotate(-6deg)'},{transform:'translateX(-50%) scale(1)'}],{duration:260})

    const pop=document.createElement('div')
    const words=['sorry','pardon me','ouch','ooppps','oh my god']
    pop.textContent = words[Math.floor(Math.random()*words.length)]
    pop.style.position='absolute'
    pop.style.left = el.offsetLeft + 'px'
    pop.style.top = el.offsetTop + 'px'
    pop.style.fontWeight='700'
    pop.style.padding='6px 8px'
    pop.style.borderRadius='8px'
    pop.style.background='rgba(255,255,255,0.06)'
    confetti.appendChild(pop)
    setTimeout(()=>{pop.style.transition='0.7s'; pop.style.opacity=0; pop.style.transform='translateY(-20px)'},20)
    setTimeout(()=>pop.remove(),900)
  }

  let dragging=false, dragX=0

  function getX(e){return e.touches?e.touches[0].clientX:e.clientX}

  function onDown(e){dragging=true; dragX=getX(e)}
  function onMove(e){
    if(!dragging) return
    const x=getX(e)
    moveBossBy(x-dragX)
    dragX=x
  }
  function onUp(){dragging=false}

  function moveBossBy(dx){
    const rect=arena.getBoundingClientRect()
    const brect=boss.getBoundingClientRect()
    const center=brect.left + brect.width/2 + dx
    const min=rect.left+12, max=rect.right-12
    const clamped=Math.min(max,Math.max(min,center))
    const percent=((clamped-rect.left)/rect.width)*100
    boss.style.left=percent+'%'
  }

  arena.addEventListener('pointerdown',onDown)
  arena.addEventListener('pointermove',onMove)
  arena.addEventListener('pointerup',onUp)

  arena.addEventListener('touchstart',onDown)
  arena.addEventListener('touchmove',onMove)
  arena.addEventListener('touchend',onUp)

  document.addEventListener('keydown',e=>{
    if(e.key==='ArrowLeft') moveBossBy(-36)
    if(e.key==='ArrowRight') moveBossBy(36)
  })

  requestAnimationFrame(loop)
</script>

</body>
</html>